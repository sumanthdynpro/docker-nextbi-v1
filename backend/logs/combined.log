{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-10-31 11:00:12"}
{"level":"info","message":"Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-10-31 11:00:12"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-10-31 11:00:12"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:12"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-10-31 11:00:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:15"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:16"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:16"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:16"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:23"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:23"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-10-31 11:00:23"}
{"level":"info","message":"Server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-10-31 11:00:23"}
{"level":"info","message":"API URL: http://localhost:3001","service":"nextbi-backend","timestamp":"2025-10-31 11:00:23"}
{"level":"http","message":"\u001b[0mGET / \u001b[33m404\u001b[0m 7.680 ms - 47\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:01:49"}
{"level":"http","message":"\u001b[0mGET /favicon.ico \u001b[33m404\u001b[0m 1.319 ms - 58\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:01:49"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"info","message":"Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"info","message":"Server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"info","message":"API URL: http://localhost:3001","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '3ec6ca1d-f212-4194-b0d7-dbbeba95f805';","service":"nextbi-backend","timestamp":"2025-10-31 11:19:20"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '3ec6ca1d-f212-4194-b0d7-dbbeba95f805';","service":"nextbi-backend","timestamp":"2025-10-31 11:19:20"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"email\" = 'vickyvic7044@gmail.com';","service":"nextbi-backend","timestamp":"2025-10-31 11:19:20"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"email\" = 'vickyvic7044@gmail.com';","service":"nextbi-backend","timestamp":"2025-10-31 11:19:20"}
{"level":"debug","message":"Executing (default): INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-10-31 11:19:20"}
{"level":"debug","message":"Executing (default): INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-10-31 11:19:20"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 773.902 ms - 389\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:19:20"}
{"errors":[{"instance":{"avatar":null,"azureId":"3ec6ca1d-f212-4194-b0d7-dbbeba95f805","createdAt":"2025-10-31T05:49:20.200Z","displayName":"Vikas","email":"vickyvic7044@gmail.com","id":"1fcddd92-4742-46f8-810b-d4841e6f7333","lastLogin":"2025-10-31T05:49:20.198Z","updatedAt":"2025-10-31T05:49:20.200Z"},"message":"email must be unique","origin":"DB","path":"email","type":"unique violation","validatorArgs":[],"validatorKey":"not_unique","validatorName":null,"value":"vickyvic7044@gmail.com"}],"fields":{"email":"vickyvic7044@gmail.com"},"level":"error","message":"Azure auth error: Validation error","name":"SequelizeUniqueConstraintError","original":{"code":"23505","constraint":"users_email_key80","detail":"Key (email)=(vickyvic7044@gmail.com) already exists.","file":"nbtinsert.c","length":218,"line":"666","name":"error","parameters":["1fcddd92-4742-46f8-810b-d4841e6f7333","vickyvic7044@gmail.com","Vikas","3ec6ca1d-f212-4194-b0d7-dbbeba95f805",null,"2025-10-31 05:49:20.198 +00:00","2025-10-31 05:49:20.200 +00:00","2025-10-31 05:49:20.200 +00:00"],"routine":"_bt_check_unique","schema":"public","severity":"ERROR","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","table":"users"},"parent":{"code":"23505","constraint":"users_email_key80","detail":"Key (email)=(vickyvic7044@gmail.com) already exists.","file":"nbtinsert.c","length":218,"line":"666","name":"error","parameters":["1fcddd92-4742-46f8-810b-d4841e6f7333","vickyvic7044@gmail.com","Vikas","3ec6ca1d-f212-4194-b0d7-dbbeba95f805",null,"2025-10-31 05:49:20.198 +00:00","2025-10-31 05:49:20.200 +00:00","2025-10-31 05:49:20.200 +00:00"],"routine":"_bt_check_unique","schema":"public","severity":"ERROR","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","table":"users"},"service":"nextbi-backend","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","stack":"Error\n    at Query.run (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.insert (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:795:21)\n    at async User.save (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\model.js:4154:35)\n    at async Function.create (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\model.js:2305:12)\n    at async azureAuth (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\src\\controllers\\auth.controller.ts:44:16)","timestamp":"2025-10-31 11:19:20"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[31m500\u001b[0m 1352.826 ms - 51\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:19:20"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:19:25"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:19:25"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-10-31 11:19:25"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 191.683 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:19:25"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:19:25"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:19:25"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-10-31 11:19:25"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 267.322 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:19:25"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 367.432 ms - 585\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[36m304\u001b[0m 146.700 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 176.611 ms - 455\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[36m304\u001b[0m 104.097 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:14"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = 'a88828af-a9a5-4e36-8022-10504f0c20a6';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:14"}
{"level":"http","message":"\u001b[0mGET /api/connections/a88828af-a9a5-4e36-8022-10504f0c20a6/schema \u001b[32m200\u001b[0m 402.914 ms - 183\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:14"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:19"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-10-31 11:20:19"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[36m304\u001b[0m 95.180 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:19"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:19"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-10-31 11:20:19"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[36m304\u001b[0m 104.679 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:19"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:22"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = 'f601fa3b-7922-4c5b-a8dd-dbe581b8ed8a';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:22"}
{"level":"debug","message":"Executing (default): UPDATE \"database_connections\" SET \"lastTestedAt\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-10-31 11:20:24"}
{"level":"http","message":"\u001b[0mPOST /api/connections/f601fa3b-7922-4c5b-a8dd-dbe581b8ed8a/test \u001b[32m200\u001b[0m 1593.355 ms - 119\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:24"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:24"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = 'a88828af-a9a5-4e36-8022-10504f0c20a6';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:24"}
{"level":"debug","message":"Executing (default): UPDATE \"database_connections\" SET \"lastTestedAt\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-10-31 11:20:24"}
{"level":"http","message":"\u001b[0mPOST /api/connections/a88828af-a9a5-4e36-8022-10504f0c20a6/test \u001b[32m200\u001b[0m 372.374 ms - 119\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:24"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:41"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-10-31 11:20:41"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 402.960 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:41"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-10-31 11:20:41"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 146.861 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:50"}
{"level":"debug","message":"Executing (default): INSERT INTO \"projects\" (\"id\",\"name\",\"description\",\"creatorId\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"name\",\"description\",\"creatorId\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-10-31 11:20:50"}
{"level":"debug","message":"Executing (default): INSERT INTO \"project_users\" (\"id\",\"projectId\",\"userId\",\"role\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"projectId\",\"userId\",\"role\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-10-31 11:20:50"}
{"level":"http","message":"\u001b[0mPOST /api/project \u001b[32m201\u001b[0m 449.409 ms - 235\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:50"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:23:52"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:23:52"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('6ed7e8e4-dbb4-4dd0-8669-14e1fed99b75');","service":"nextbi-backend","timestamp":"2025-10-31 11:23:52"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 443.694 ms - 377\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:23:52"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:23:52"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:23:52"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('6ed7e8e4-dbb4-4dd0-8669-14e1fed99b75');","service":"nextbi-backend","timestamp":"2025-10-31 11:23:52"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 155.917 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:23:52"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '803b8afd-6e84-41c3-a44b-809e1b196cf4';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '803b8afd-6e84-41c3-a44b-809e1b196cf4';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"email\" = 'vickyvic7044@gmail.com';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"email\" = 'vickyvic7044@gmail.com';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:47"}
{"level":"debug","message":"Executing (default): INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-10-31 11:46:47"}
{"level":"debug","message":"Executing (default): INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-10-31 11:46:47"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 480.783 ms - 389\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:46:47"}
{"errors":[{"instance":{"avatar":null,"azureId":"803b8afd-6e84-41c3-a44b-809e1b196cf4","createdAt":"2025-10-31T06:16:47.678Z","displayName":"Vikas","email":"vickyvic7044@gmail.com","id":"4fa3e468-c294-49ae-bbed-4f5530bad790","lastLogin":"2025-10-31T06:16:47.677Z","updatedAt":"2025-10-31T06:16:47.678Z"},"message":"email must be unique","origin":"DB","path":"email","type":"unique violation","validatorArgs":[],"validatorKey":"not_unique","validatorName":null,"value":"vickyvic7044@gmail.com"}],"fields":{"email":"vickyvic7044@gmail.com"},"level":"error","message":"Azure auth error: Validation error","name":"SequelizeUniqueConstraintError","original":{"code":"23505","constraint":"users_email_key80","detail":"Key (email)=(vickyvic7044@gmail.com) already exists.","file":"nbtinsert.c","length":218,"line":"666","name":"error","parameters":["4fa3e468-c294-49ae-bbed-4f5530bad790","vickyvic7044@gmail.com","Vikas","803b8afd-6e84-41c3-a44b-809e1b196cf4",null,"2025-10-31 06:16:47.677 +00:00","2025-10-31 06:16:47.678 +00:00","2025-10-31 06:16:47.678 +00:00"],"routine":"_bt_check_unique","schema":"public","severity":"ERROR","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","table":"users"},"parent":{"code":"23505","constraint":"users_email_key80","detail":"Key (email)=(vickyvic7044@gmail.com) already exists.","file":"nbtinsert.c","length":218,"line":"666","name":"error","parameters":["4fa3e468-c294-49ae-bbed-4f5530bad790","vickyvic7044@gmail.com","Vikas","803b8afd-6e84-41c3-a44b-809e1b196cf4",null,"2025-10-31 06:16:47.677 +00:00","2025-10-31 06:16:47.678 +00:00","2025-10-31 06:16:47.678 +00:00"],"routine":"_bt_check_unique","schema":"public","severity":"ERROR","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","table":"users"},"service":"nextbi-backend","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","stack":"Error\n    at Query.run (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.insert (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:795:21)\n    at async User.save (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\model.js:4154:35)\n    at async Function.create (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\model.js:2305:12)\n    at async azureAuth (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\src\\controllers\\auth.controller.ts:44:16)","timestamp":"2025-10-31 11:46:47"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[31m500\u001b[0m 555.263 ms - 51\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:46:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:48"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:48"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-10-31 11:46:48"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 145.810 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:46:48"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:49"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-10-31 11:46:49"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 139.798 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:46:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:49"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-10-31 11:46:49"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 139.715 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:46:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 336.585 ms - 585\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[36m304\u001b[0m 147.342 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[36m304\u001b[0m 149.397 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[36m304\u001b[0m 96.928 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-01 12:35:22"}
{"level":"info","message":"Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-01 12:35:22"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-01 12:35:22"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:22"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:22"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:23"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-01 12:35:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-01 12:35:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"info","message":"Server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"info","message":"API URL: http://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-01 12:35:28"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-03 11:05:12"}
{"level":"info","message":"Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-03 11:05:12"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-03 11:05:12"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:12"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:12"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 11:05:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 11:05:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:13"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:13"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:13"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:13"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 11:05:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 11:05:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:14"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:14"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:14"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:16"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:16"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:16"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:16"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 11:05:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 11:05:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:16"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:16"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:16"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 11:05:16"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:16"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 11:05:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 11:05:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 11:05:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 11:05:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:19"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:20"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:20"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 11:05:20"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:20"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 11:05:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-03 11:05:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 11:05:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:20"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 11:05:20"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-03 14:33:44"}
{"level":"info","message":"Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-03 14:33:44"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-03 14:33:44"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:44"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:44"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:33:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:33:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:45"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:45"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:45"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:45"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:33:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:33:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:45"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:45"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:46"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-03 14:33:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:48"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:33:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-03 14:33:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:33:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:50"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:33:50"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-03 14:33:50"}
{"level":"info","message":"Server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-03 14:33:50"}
{"level":"info","message":"API URL: http://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-03 14:33:50"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '803b8afd-6e84-41c3-a44b-809e1b196cf4';","service":"nextbi-backend","timestamp":"2025-11-03 14:34:09"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '803b8afd-6e84-41c3-a44b-809e1b196cf4';","service":"nextbi-backend","timestamp":"2025-11-03 14:34:09"}
{"level":"debug","message":"Executing (default): UPDATE \"users\" SET \"lastLogin\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-03 14:34:09"}
{"level":"debug","message":"Executing (default): UPDATE \"users\" SET \"lastLogin\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-03 14:34:09"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 450.265 ms - 389\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 14:34:09"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 441.202 ms - 389\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 14:34:09"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 14:34:09"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 14:34:09"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-03 14:34:09"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 187.050 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 14:34:09"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 14:34:12"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 14:34:12"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-03 14:34:13"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 150.497 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 14:34:13"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 14:34:13"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 14:34:13"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-03 14:34:13"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 141.565 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 14:34:13"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-03 14:41:11"}
{"level":"info","message":"Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-03 14:41:11"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-03 14:41:11"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:11"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:11"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:12"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:13"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-03 14:41:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:15"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:41:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:17"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:41:17"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-03 14:41:17"}
{"level":"info","message":"Server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-03 14:41:17"}
{"level":"info","message":"API URL: http://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-03 14:41:17"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-03 14:45:39"}
{"level":"info","message":"Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-03 14:45:39"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-03 14:45:39"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:39"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:39"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:39"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:45:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:45:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:40"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:40"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:40"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:40"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:45:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:45:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:41"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:42"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:42"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:42"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:45:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:45:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:42"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:42"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:42"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 14:45:42"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:42"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:45:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:45:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:45:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:45:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:45:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:45:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-03 14:45:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:45:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:43"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:43"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:43"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:45:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:45:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:45:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:45"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:45"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:45"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 14:45:45"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:45"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:45:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-03 14:45:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:45:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:46"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:45:46"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-03 14:45:46"}
{"level":"info","message":"Server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-03 14:45:46"}
{"level":"info","message":"API URL: http://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-03 14:45:46"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-03 14:53:06"}
{"level":"info","message":"Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-03 14:53:06"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-03 14:53:06"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:06"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:06"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:53:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:53:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:06"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:06"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-03 14:53:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:09"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 14:53:10"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:12"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 14:53:12"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-03 14:53:12"}
{"level":"info","message":"Server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-03 14:53:12"}
{"level":"info","message":"API URL: http://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-03 14:53:12"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-03 15:00:19"}
{"level":"info","message":"Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-03 15:00:19"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-03 15:00:19"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:19"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:19"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:20"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:20"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:20"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:20"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:20"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:21"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:21"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 15:00:21"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:21"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-03 15:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:21"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:21"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:21"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:22"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:22"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:22"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:22"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:22"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:00:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:23"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:23"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:23"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 15:00:23"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:23"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:00:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:00:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:00:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:00:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:00:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:00:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-03 15:00:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:00:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:24"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:24"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:24"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:24"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:00:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:00:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:00:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:00:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:25"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:25"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:25"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 15:00:25"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:25"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:00:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-03 15:00:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:00:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:00:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:00:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:26"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:26"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:26"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 15:00:27"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:27"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:00:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-03 15:00:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:00:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:27"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:00:27"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-03 15:00:27"}
{"level":"info","message":"Server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-03 15:00:27"}
{"level":"info","message":"API URL: http://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-03 15:00:27"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-03 15:03:03"}
{"level":"info","message":"Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-03 15:03:03"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-03 15:03:03"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:03"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:03"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:03:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:03:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:04"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:04"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:04"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:04"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:03:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:03:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:03:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:03:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:08"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:08"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:08"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 15:03:08"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:08"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:03:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-03 15:03:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:03:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"info","message":"Server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"info","message":"API URL: http://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-03 15:03:09"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '803b8afd-6e84-41c3-a44b-809e1b196cf4';","service":"nextbi-backend","timestamp":"2025-11-03 15:04:37"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '803b8afd-6e84-41c3-a44b-809e1b196cf4';","service":"nextbi-backend","timestamp":"2025-11-03 15:04:37"}
{"level":"debug","message":"Executing (default): UPDATE \"users\" SET \"lastLogin\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-03 15:04:37"}
{"level":"debug","message":"Executing (default): UPDATE \"users\" SET \"lastLogin\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-03 15:04:37"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 445.160 ms - 389\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:04:37"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 429.109 ms - 389\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:04:37"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:04:38"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:04:38"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-03 15:04:38"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 181.819 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:04:38"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:04:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:04:41"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-03 15:04:41"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 182.191 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:04:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:04:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:04:41"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-03 15:04:41"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 184.487 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:04:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:05:16"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:05:16"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-03 15:05:16"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 508.783 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:05:16"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:05:16"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:05:16"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-03 15:05:16"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 147.673 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:05:16"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-03 15:10:46"}
{"level":"info","message":"Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-03 15:10:46"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-03 15:10:46"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:46"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:46"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:10:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:10:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:46"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:46"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:49"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:10:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:51"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:10:52"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-03 15:10:52"}
{"level":"info","message":"Server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-03 15:10:52"}
{"level":"info","message":"API URL: http://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-03 15:10:52"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '803b8afd-6e84-41c3-a44b-809e1b196cf4';","service":"nextbi-backend","timestamp":"2025-11-03 15:10:58"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '803b8afd-6e84-41c3-a44b-809e1b196cf4';","service":"nextbi-backend","timestamp":"2025-11-03 15:10:59"}
{"level":"debug","message":"Executing (default): UPDATE \"users\" SET \"lastLogin\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-03 15:10:59"}
{"level":"debug","message":"Executing (default): UPDATE \"users\" SET \"lastLogin\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-03 15:10:59"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 200.990 ms - 389\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:10:59"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 209.507 ms - 389\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:10:59"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:10:59"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:10:59"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-03 15:10:59"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 440.022 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:11:00"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:11:03"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:11:03"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-03 15:11:03"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 219.865 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:11:03"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:11:03"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:11:03"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-03 15:11:03"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 169.992 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:11:03"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '803b8afd-6e84-41c3-a44b-809e1b196cf4';","service":"nextbi-backend","timestamp":"2025-11-03 15:11:15"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '803b8afd-6e84-41c3-a44b-809e1b196cf4';","service":"nextbi-backend","timestamp":"2025-11-03 15:11:15"}
{"level":"debug","message":"Executing (default): UPDATE \"users\" SET \"lastLogin\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-03 15:11:15"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 373.273 ms - 389\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:11:15"}
{"level":"debug","message":"Executing (default): UPDATE \"users\" SET \"lastLogin\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-03 15:11:15"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 440.813 ms - 389\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:11:15"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:11:15"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:11:15"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-03 15:11:16"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 255.485 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:11:16"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:11:18"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:11:19"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-03 15:11:19"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 1011.465 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:11:19"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:11:19"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-11-03 15:11:19"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-03 15:11:20"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 289.419 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:11:20"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-03 15:27:16"}
{"level":"info","message":"Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-03 15:27:16"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-03 15:27:16"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:16"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:16"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:27:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:27:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:18"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:18"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:27:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:21"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:21"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:21"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 15:27:21"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:21"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:27:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:27:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:27:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:23"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:24"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:24"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 15:27:24"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:24"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 15:27:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-03 15:27:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 15:27:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:24"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 15:27:24"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-03 15:27:24"}
{"level":"info","message":"Server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-03 15:27:24"}
{"level":"info","message":"API URL: http://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-03 15:27:24"}
{"level":"http","message":"\u001b[0mGET / \u001b[33m404\u001b[0m 13.271 ms - 47\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:27:26"}
{"level":"http","message":"\u001b[0mGET /.well-known/appspecific/com.chrome.devtools.json \u001b[33m404\u001b[0m 2.396 ms - 95\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:27:27"}
{"level":"http","message":"\u001b[0mGET /favicon.ico \u001b[33m404\u001b[0m 1.632 ms - 58\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 15:27:27"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-03 17:34:47"}
{"level":"info","message":"Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-03 17:34:47"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-03 17:34:47"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:47"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:47"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 17:34:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 17:34:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:48"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:48"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:48"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:48"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 17:34:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 17:34:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:48"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 17:34:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 17:34:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 17:34:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 17:34:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-03 17:34:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 17:34:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:51"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:51"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:51"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:51"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 17:34:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 17:34:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 17:34:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 17:34:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:52"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:52"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:52"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 17:34:52"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:52"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-03 17:34:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-03 17:34:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 17:34:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 17:34:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 17:34:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:54"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:54"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:54"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-03 17:34:54"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:54"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-03 17:34:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-03 17:34:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-03 17:34:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:55"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-03 17:34:55"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-03 17:34:55"}
{"level":"info","message":"Server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-03 17:34:55"}
{"level":"info","message":"API URL: http://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-03 17:34:55"}
{"expiredAt":"2025-10-31T09:51:11.000Z","level":"error","message":"jwt expired","name":"TokenExpiredError","service":"nextbi-backend","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\node_modules\\jsonwebtoken\\verify.js:190:21\n    at getSecret (C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at Object.module.exports [as verify] (C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at verifyToken (C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\src\\utils\\jwt.ts:39:16)\n    at authenticate (C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\src\\middleware\\auth.middleware.ts:33:32)\n    at Layer.handle [as handle_request] (C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2025-11-03 17:35:18"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[33m401\u001b[0m 156.766 ms - 54\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 17:35:18"}
{"expiredAt":"2025-10-31T09:51:11.000Z","level":"error","message":"jwt expired","name":"TokenExpiredError","service":"nextbi-backend","stack":"TokenExpiredError: jwt expired\n    at C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\node_modules\\jsonwebtoken\\verify.js:190:21\n    at getSecret (C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at Object.module.exports [as verify] (C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at verifyToken (C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\src\\utils\\jwt.ts:39:16)\n    at authenticate (C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\src\\middleware\\auth.middleware.ts:33:32)\n    at Layer.handle [as handle_request] (C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Sumanth\\OneDrive\\Documents\\Next-BI with Cred\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2025-11-03 17:35:18"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[33m401\u001b[0m 12.401 ms - 54\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 17:35:18"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '1d601fbf-1ac5-4eb2-9d19-03cf54682f49';","service":"nextbi-backend","timestamp":"2025-11-03 17:35:28"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '1d601fbf-1ac5-4eb2-9d19-03cf54682f49';","service":"nextbi-backend","timestamp":"2025-11-03 17:35:28"}
{"level":"debug","message":"Executing (default): UPDATE \"users\" SET \"lastLogin\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-03 17:35:28"}
{"level":"debug","message":"Executing (default): UPDATE \"users\" SET \"lastLogin\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-03 17:35:28"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 484.794 ms - 393\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 17:35:28"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 469.927 ms - 393\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 17:35:28"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = '579e96e2-3c34-4e9b-b03a-5a1a39383614';","service":"nextbi-backend","timestamp":"2025-11-03 17:35:28"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = '579e96e2-3c34-4e9b-b03a-5a1a39383614';","service":"nextbi-backend","timestamp":"2025-11-03 17:35:28"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('d7ac53fe-e6fd-47e6-9a14-6d8f5437274b');","service":"nextbi-backend","timestamp":"2025-11-03 17:35:28"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 183.287 ms - 378\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 17:35:28"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = '579e96e2-3c34-4e9b-b03a-5a1a39383614';","service":"nextbi-backend","timestamp":"2025-11-03 17:35:29"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = '579e96e2-3c34-4e9b-b03a-5a1a39383614';","service":"nextbi-backend","timestamp":"2025-11-03 17:35:29"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('d7ac53fe-e6fd-47e6-9a14-6d8f5437274b');","service":"nextbi-backend","timestamp":"2025-11-03 17:35:29"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 154.032 ms - 378\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 17:35:29"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = '579e96e2-3c34-4e9b-b03a-5a1a39383614';","service":"nextbi-backend","timestamp":"2025-11-03 17:35:29"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = '579e96e2-3c34-4e9b-b03a-5a1a39383614';","service":"nextbi-backend","timestamp":"2025-11-03 17:35:29"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('d7ac53fe-e6fd-47e6-9a14-6d8f5437274b');","service":"nextbi-backend","timestamp":"2025-11-03 17:35:29"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 162.821 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-03 17:35:29"}
